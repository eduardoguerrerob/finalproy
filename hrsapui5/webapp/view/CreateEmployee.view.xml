<mvc:View controllerName="egb.hrsapui5.controller.CreateEmployee"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form">

    <Page title="{i18n>crearEmpleado}">
        <content>
            <NavContainer id="wizardNavContainer">
                <pages>
                    <Page showHeader="false">
                        <content>
                            <Wizard id="wizard" complete="wizardCompletedHandler" finishButtonText="{i18n>resumenBtn}">
                                <WizardStep id="wizardStep1" title="{i18n>step1}" validated="false">
                                    <MessageStrip text="{i18n>step1mensaje}" showIcon="true">
                                    </MessageStrip>
                                    <FlexBox justifyContent="Center" alignItems="Center">
                                        <Button text="{i18n>interno}" press="goToStep2" class="sapUiSmallMarginEnd">
                                            <customData>
                                                <core:CustomData key="employeeType" value="interno">
                                                </core:CustomData>
                                            </customData>
                                        </Button>
                                        <Button text="{i18n>autonomo}" press="goToStep2" class="sapUiSmallMarginEnd">
                                            <customData>
                                                <core:CustomData key="employeeType" value="autonomo">
                                                </core:CustomData>
                                            </customData>
                                        </Button>
                                        <Button text="{i18n>gerente}" press="goToStep2" class="sapUiSmallMarginEnd">
                                            <customData>
                                                <core:CustomData key="employeeType" value="gerente">
                                                </core:CustomData>
                                            </customData>
                                        </Button>
                                    </FlexBox>
                                </WizardStep>

                                <WizardStep id="wizardStep2" title="{i18n>step2}" validated="false">
                                    <MessageStrip text="{i18n>step2mensaje}"></MessageStrip>
                                    <form:SimpleForm editable="true">
                                        <Label text="{i18n>nombre}" required="true"/>
                                        <Input value="{/FirstName}" valueState="{/FirstNameState}" change="changeDataEmployee"/>
                                        <Label text="{i18n>apellido}" required="true"/>
                                        <Input value="{/LastName}" valueState="{/LastNameState}" change="changeDataEmployee"/>
                                        <Label text="{= ${/_type} === 'autonomo' ? ${i18n>cif} : ${i18n>dni}}" required="true"/>
                                        <Input value="{/Dni}" valueState="{/_DniState}" change="changeDataEmployee"/>
                                        <Label text="{= ${/_type} === 'autonomo' ? ${i18n>precioDia} : ${i18n>salarioAnual}}"/>
                                        <VBox >
                                            <Slider value="{/_salary}" min="12000" max="80000" step="1000" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true" width="100%" class="sapUiSmallMarginBottom" progress="false" visible="{= ${/_type} === 'interno'}">
                                                <ResponsiveScale tickmarksBetweenLabels="100"/>
                                            </Slider>
                                            <Slider value="{/_salary}" min="100" max="2000" step="100" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true" width="100%" class="sapUiSmallMarginBottom" progress="false" visible="{= ${/_type} === 'autonomo'}">
                                                <ResponsiveScale tickmarksBetweenLabels="100"/>
                                            </Slider>
                                            <Slider value="{/_salary}" min="5000" max="200000" step="100" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true" width="100%" class="sapUiSmallMarginBottom" progress="false" visible="{= ${/_type} === 'gerente'}">
                                                <ResponsiveScale tickmarksBetweenLabels="100"/>
                                            </Slider>
                                        </VBox>
                                        <Label text="{i18n>fechaIngreso}" required="true"/>
                                        <DatePicker dateValue="{/CreationDate}" valueState="{/_CreationDateState}" change="changeDataEmployee"/>
                                    </form:SimpleForm>
                                </WizardStep>

                                <WizardStep id="wizardStep3" title="{i18n>step3}" validated="true" activate="optionarStepActivation">
                                    <MessageStrip text="{i18n>step3mensaje}" showIcon="true" class="sapUiSmallMarginBottom"/>
                                    <Label text="{i18n>comentario}"/>
                                    <TextArea value="{/Comments}" width="100%"/>
                                    <UploadCollection id="uploadCollection" maximumFilenameLength="55" maximumFileSize="10" multiple="true" uploadUrl="/sap/opu/odata/sap/ZEMPLOYEES_SRV/Attachments" sameFilenameAllowed="true" instantUpload="false" change="onChangeUploadCollection" beforeUploadStarts="onBeforeUploadStarts" noDataDescription="{18nn>arrastrarArchivos}"/>
                                </WizardStep>

                            </Wizard>
                        </content>
                        <footer>
                            <OverflowToolbar >
                                <ToolbarSpacer/>
                                <Button text="{i18n>cancelar}" press="onCancel"/>
                            </OverflowToolbar>
                        </footer>
                    </Page>

                    <Page id="review" title="{i18n>resumen}">
                        <core:Fragment fragmentName="egb.hrsapui5.fragment.Review" type="XML"/>
                        <footer>
                            <Toolbar >
                                <ToolbarSpacer />
                                <Button text="{i18n>guardar}" press="onSave"/>
                                <Button text="{i18n>cancelar}" press="onCancel"/>
                            </Toolbar>
                        </footer>
                    </Page>
                </pages>
            </NavContainer>
        </content>
    </Page>

</mvc:View>